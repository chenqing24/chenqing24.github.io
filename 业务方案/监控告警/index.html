<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">

    
    <title>监控告警体系 - Jeff.Chen的技术博客</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../css/base.min.css" rel="stylesheet">
    <link href="../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../..">Jeff.Chen的技术博客</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">首页</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../aboutme/">关于博主</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tech tutorial <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../tech_tutorial/gitbook/">GitBook</a>
</li>

                        
                            
<li >
    <a href="../../tech_tutorial/markdown/">Markdown常用语法</a>
</li>

                        
                            
<li >
    <a href="../../tech_tutorial/mkdocs/">MkDocs 静态网站生成</a>
</li>

                        
                            
<li >
    <a href="../../tech_tutorial/svn/">SVN 版本管理</a>
</li>

                        
                            
<li >
    <a href="../../tech_tutorial/yapi/">YApi 可视化接口管理平台</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">DB</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/DB/adminer/">Adminer 单php的db管理系统</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/DB/etcd/">Etcd 分布式KV数据库</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/DB/ldap/">OpenLDAP简介</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/DB/mongo/">MongoDB 简明使用手册</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/DB/mysql/">MySQL 数据库常用手册</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/DB/redis/">Redis 使用手册</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Js库</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/js%E5%BA%93/backbone/">Backbone.js 前端MVC框架</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/js%E5%BA%93/iview-admin/">基于Vue的后台管理系统前端UI方案</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/js%E5%BA%93/nvm/">nvm Node版本管理工具</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Jvm系</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/jvm%E7%B3%BB/jvm%E5%86%85%E5%AD%98%E6%9C%BA%E5%88%B6%E5%92%8C%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6gc/">JVM内存机制和垃圾回收GC</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Linux工具</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/data_mount/">挂载data盘</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/kernel/">linux内核</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/mutt/">Mutt 命令行邮件客户端</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/netrc/">.netrc 免密登入</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/ops_bash/">常用运维命令</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/rsyslog/">Rsyslog 系统日志</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/smtp_docker/">使用Docker搭建SMTP服务器</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/supervisor/">supervisord后台进程管理</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/tmux/">Tmux简介</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/ubuntu/">Ubuntu常用设置</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/linux%E5%B7%A5%E5%85%B7/vim/">Vim编辑器 常用方法</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Project manage</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/project_manage/wekan/">Wekan 敏捷看板</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Py库</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/py%E5%BA%93/json-logic-py/">json-logic-py 基于json的逻辑引擎</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/py%E5%BA%93/peewee/">Peewee python的ORM框架</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/py%E5%BA%93/pip/">pip使用指南</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/py%E5%BA%93/spiff_workflow/">SpiffWorkflow 工作流引擎</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Web脚手架</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/web%E8%84%9A%E6%89%8B%E6%9E%B6/bottle_rest/">Bottle Rest Web脚手架</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/web%E8%84%9A%E6%89%8B%E6%9E%B6/flask_rest/">Flask Restful Web微服务</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Workflow</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/workflow/activiti/">Activiti</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/workflow/bpmn/">BPMN 2.0 简介</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/workflow/jsonlogic/">JsonLogic 基于json的规则引擎</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">中间件</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E4%B8%AD%E9%97%B4%E4%BB%B6/apisix/">APISix API网关</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%B8%AD%E9%97%B4%E4%BB%B6/confd/">Confd 服务配置中心</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/">Kafka集群安装配置手册（Docker版）</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%B8%AD%E9%97%B4%E4%BB%B6/nginx/">Nginx 反向代理Web服务器</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/">RabbitMQ消息中间件</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%B8%AD%E9%97%B4%E4%BB%B6/rocketmq/">RocketMQ 分布式MQ和流平台</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">云原生</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E4%BA%91%E5%8E%9F%E7%94%9F/acr/">Alibaba Cloud Container Registry(ACR) 阿里云容器镜像服务</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%BA%91%E5%8E%9F%E7%94%9F/ossftp/">ossftp 基于阿里云对象存储的FTP服务</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%BA%91%E5%8E%9F%E7%94%9F/ossutil/">ossutil 阿里云对象存储工具</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E4%BA%91%E5%8E%9F%E7%94%9F/seafile/">Seafile 开源网盘</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">大数据</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E5%A4%A7%E6%95%B0%E6%8D%AE/cdh_install/">Cloudera Distribution Hadoop（CDH）安装教程</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">常用软件</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/chrome/">Chrome浏览器</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/cloudnote/">云笔记方案</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/git_rel/">Git使用相关</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/mrdoc/">MrDoc 觅思文档 （语雀的平替）</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">虚拟化</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E8%99%9A%E6%8B%9F%E5%8C%96/docker/">Docker容器</a>
</li>

        
            
<li >
    <a href="../../tech_tutorial/%E8%99%9A%E6%8B%9F%E5%8C%96/kubesphere/">KubeSphere 容器平台</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">K8s</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E8%99%9A%E6%8B%9F%E5%8C%96/k8s/minikube/">Minikube简要教程</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Pve</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E8%99%9A%E6%8B%9F%E5%8C%96/pve/">PVE常见运维流程</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">质量测试</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tech_tutorial/%E8%B4%A8%E9%87%8F%E6%B5%8B%E8%AF%95/postwoman/">Postwoman API管理</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">业务方案 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">CICD</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../CICD/cmdbuild/">CMDBuild配置管理平台</a>
</li>

        
            
<li >
    <a href="../CICD/gitlab/">Gitlab版本管理</a>
</li>

        
            
<li >
    <a href="../CICD/jenkins/">Jenkins实用手册</a>
</li>

        
            
<li >
    <a href="../CICD/redmine/">Redmine需求管理平台</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Chatops</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../chatops/">ChatOps方案概述</a>
</li>

        
            
<li >
    <a href="../chatops/inspircd/">inspircd IRC服务</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Monitor system</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../monitor_system/">简介</a>
</li>

        
            
<li >
    <a href="../monitor_system/alarm/">告警服务</a>
</li>

        
            
<li >
    <a href="../monitor_system/env_build/">Env build</a>
</li>

        
            
<li >
    <a href="../monitor_system/monitor/">监控体系</a>
</li>

        
            
<li >
    <a href="../monitor_system/ops_interview/">常见运维面试题目</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">任务调度</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/task_scheduling/">任务调度系统调研</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">内容管理</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../%E5%86%85%E5%AE%B9%E7%AE%A1%E7%90%86/headless-cms/">无头CMS - Strapi</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">前端框架</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/coreui-free-vue-admin-template/">基于CoreUI Free Vue Bootstrap Admin的改造模板</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">批量部署</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../%E6%89%B9%E9%87%8F%E9%83%A8%E7%BD%B2/ansible/">Ansible自动化部署工具</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">权限管控</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../%E6%9D%83%E9%99%90%E7%AE%A1%E6%8E%A7/api_gateway_auth/">基于API网关的用户权限管理服务</a>
</li>

        
            
<li >
    <a href="../%E6%9D%83%E9%99%90%E7%AE%A1%E6%8E%A7/casbin/">Casbin 访问控制框架</a>
</li>

        
            
<li >
    <a href="../%E6%9D%83%E9%99%90%E7%AE%A1%E6%8E%A7/jumper/">跳板堡垒机 Teleport</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">监控告警</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">监控告警体系</a>
</li>

        
            
<li >
    <a href="grafana/">Grafana可视化监控仪表盘</a>
</li>

        
            
<li >
    <a href="monitoring_system_summary/">监控体系概要</a>
</li>

        
            
<li >
    <a href="n9e/">nightingale 夜莺监控系统</a>
</li>

        
            
<li >
    <a href="sentry/">Sentry 故障追溯平台</a>
</li>

        
            
<li >
    <a href="troubleshooting_tmplete/">运维故障处理文档模板</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Elk</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="elk/">ELK集群安装配置手册（Docker版）</a>
</li>

        
            
<li >
    <a href="elk/curator/">curator ES索引管理工具</a>
</li>

        
            
<li >
    <a href="elk/docker-elk/">docker-comepose版的ELK</a>
</li>

        
            
<li >
    <a href="elk/elastalert/">Elastalert - Elasticsearch日志告警组件</a>
</li>

        
            
<li >
    <a href="elk/filebeat/">Filebeat简介</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Prometheus</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="prometheus/mysqld_exporter/">MySQL Server Exporter 原生Mysql指标采集</a>
</li>

        
            
<li >
    <a href="prometheus/prometheus/">Prometheus 使用手册</a>
</li>

        
            
<li >
    <a href="prometheus/pushgateway/">Prometheus Pushgateway 简介</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">配置管理</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/bk_cmdb/">蓝鲸智云配置平台(BlueKing CMDB)</a>
</li>

        
            
<li >
    <a href="../%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/cmdbuild/">CMDBuild 开源配置管理系统</a>
</li>

        
            
<li >
    <a href="../%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/gitlab/">Gitlab 代码版本管理</a>
</li>

        
            
<li >
    <a href="../%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/%E5%9F%BA%E4%BA%8Econfd%E7%9A%84%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/">基于confd的本地服务配置管理</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">自研项目 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">MugWeb框架</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../%E8%87%AA%E7%A0%94%E9%A1%B9%E7%9B%AE/MugWeb%E6%A1%86%E6%9E%B6/">Mug Web Framework 马克杯Web开发框架</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Stock starer股票盯盘</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../%E8%87%AA%E7%A0%94%E9%A1%B9%E7%9B%AE/stock-starer%E8%82%A1%E7%A5%A8%E7%9B%AF%E7%9B%98/readme/">Stock Starer股票盯盘</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">读书和认证 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">基金</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../%E8%AF%BB%E4%B9%A6%E5%92%8C%E8%AE%A4%E8%AF%81/%E5%9F%BA%E9%87%91/">证券投资基金</a>
</li>

        
            
<li >
    <a href="../../%E8%AF%BB%E4%B9%A6%E5%92%8C%E8%AE%A4%E8%AF%81/%E5%9F%BA%E9%87%91/%E8%A1%8C%E4%B8%9A%E6%A6%82%E8%BF%B0/">行业概述</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../%E6%9D%83%E9%99%90%E7%AE%A1%E6%8E%A7/jumper/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="grafana/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#_1">监控告警体系</a></li>
            <li class="second-level"><a href="#_2">目的</a></li>
                
            <li class="second-level"><a href="#_3">常用定义</a></li>
                
            <li class="second-level"><a href="#_4">架构</a></li>
                
                <li class="third-level"><a href="#_5">数据采集的模式</a></li>
                <li class="third-level"><a href="#_6">业务链路</a></li>
                <li class="third-level"><a href="#_7">监控对象的分类分层</a></li>
            <li class="second-level"><a href="#_8">评价指标和标准</a></li>
                
                <li class="third-level"><a href="#_9">成熟度等级</a></li>
                <li class="third-level"><a href="#_10">采集指标</a></li>
                <li class="third-level"><a href="#_11">数据处理能力</a></li>
                <li class="third-level"><a href="#_12">事件检测能力（从基本到高级）</a></li>
                <li class="third-level"><a href="#_13">可视化程度</a></li>
                <li class="third-level"><a href="#_14">通知渠道</a></li>
                <li class="third-level"><a href="#_15">告警自愈</a></li>
                <li class="third-level"><a href="#_16">告警统计</a></li>
                <li class="third-level"><a href="#_17">告警事件工单</a></li>
                <li class="third-level"><a href="#_18">告警事件趋势</a></li>
                <li class="third-level"><a href="#_19">紧急变更流程</a></li>
                <li class="third-level"><a href="#_20">服务可用性指标</a></li>
                <li class="third-level"><a href="#_21">用户体验</a></li>
                <li class="third-level"><a href="#_22">性能管理</a></li>
                <li class="third-level"><a href="#_23">知识管理</a></li>
            <li class="second-level"><a href="#_24">采集体系</a></li>
                
            <li class="second-level"><a href="#_25">告警规则</a></li>
                
            <li class="second-level"><a href="#_26">通知服务</a></li>
                
                <li class="third-level"><a href="#_27">可视化</a></li>
            <li class="second-level"><a href="#_28">元模型</a></li>
                
                <li class="third-level"><a href="#_29">采集指标库</a></li>
                <li class="third-level"><a href="#_30">告警规则库</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="_1">监控告警体系</h1>
<!-- toc -->

<h2 id="_2">目的</h2>
<ol>
<li>监控告警体系相关定义、架构和评价标准</li>
<li>介绍一种实现方案</li>
</ol>
<h2 id="_3">常用定义</h2>
<ul>
<li>监控服务：对运行的服务（对象）实施数据采集和存储、处理分析和异常识别、事件通知、可视化，用于保障SLA，是运维的最基础和重要的工作之一。</li>
<li>事件管理流程：事件是对计划外的、会引起服务质量下降的事态，事件管理流程是要求快速响应事件、及时恢复服务质量、降低用户投诉的全生命周期管理。</li>
<li>紧急变更：收到突发事件时，为了满足业务需要而实施的变更，常用于运维的故障处理。</li>
<li>故障处理流程：在服务出现异常时，运维快速发现和解决问题的流程，包括：故障发现、故障追踪、故障修复、事后小结复盘。</li>
<li>服务连续性：遇到重大故障时，能快速恢复服务的能力，如：业务恢复计划、数据备份、容灾、混沌工程等。</li>
<li>业务高可用：通过业务分析等调查方式，找出业务的高可用的需求，搭建度量指标体系，识别风险，建立对应的服务架构和组织。</li>
<li>用户体验优化：基于监控体系的数据采集能力，量化用户的体验指标，用于异常的发现、定位和修复。</li>
<li>应用性能管理：对应用|组件|模块的性能指标进行度量、采集、可视化，用于业务链路的性能问题追溯、修复，和高可用架构设计。</li>
</ul>
<h2 id="_4">架构</h2>
<h3 id="_5">数据采集的模式</h3>
<ol>
<li>被动模式：通过部署探针，从应用外部获取服务的指标。</li>
<li>主动模式：应用中加入埋点，主动上报。</li>
<li>旁路模式：与应用无关，通过对网络层的<code>端口镜像</code>实现，不影响业务的网络。</li>
</ol>
<h3 id="_6">业务链路</h3>
<p><img alt="业务链路图" src="%E4%B8%9A%E5%8A%A1%E9%93%BE%E8%B7%AF.jpg" /></p>
<h3 id="_7">监控对象的分类分层</h3>
<p><img alt="监控体系分层" src="%E7%9B%91%E6%8E%A7%E4%BD%93%E7%B3%BB%E5%88%86%E5%B1%82.jpg" /></p>
<p>基础监控（绿色），容易采集而信息密度低，后期被聚合</p>
<ol>
<li>容量监控：主机的磁盘容量、HTTP服务的QPS</li>
<li>进程监控：主机的进程信息</li>
<li>特性监控：针对不同的监控目标特性而制定的指标采集</li>
</ol>
<p>服务端监控</p>
<ol>
<li>调用链路追踪（蓝色）：应用之间的调用关系和时序体现</li>
<li>组件监控：对常用的开源组件（如：MySQL、Redis、Nginx、MQ）的指标监控</li>
<li>业务监控：自研应用的监控，重点在Log采集和分析</li>
</ol>
<p>网络质量监控（黄色）：独立采集系统，部署多点，结合GIS</p>
<p>用户体验监控（红色），最直观、重要的顶层业务质量体现</p>
<ol>
<li>舆情监控：用户对业务的投诉和反馈纳入工单，定期统计和优先解决</li>
<li>拨测监控：Mock用户定期对业务外部接口访问，获取服务可用性、相应时长、状态反馈码等核心指标</li>
</ol>
<h2 id="_8">评价指标和标准</h2>
<h3 id="_9">成熟度等级</h3>
<ol>
<li>初始级：靠人肉监控和排障、灾备缺失，运维疲于救火。</li>
<li>基础级：有部分监控采集工具、通过数据分析能触发告警，及时通知运维。</li>
<li>成熟级：端到端的全链路感知，通过可视化的数据平台，对问题点进行分析和定位，在用户投诉之前发现并解决业务隐患。</li>
<li>优化级：对服务质量进一步优化提高，保障稳定性，支持业务的动态变化的自动化处理。</li>
</ol>
<h3 id="_10">采集指标</h3>
<ol>
<li>覆盖度（越全越好）：覆盖主机、网络、主机操作系统、中间件、业务应用和用户终端的全链路采集的程度。</li>
<li>采集方法（越丰富越好）：基于插件、主动采集上报的探针；基于任务调度的被动采集；嵌入式SDK。</li>
<li>准确性：采集的数据和运维观察的误差，越小越好。</li>
<li>数据实时性：采集频率和时间粒度，从分钟到秒，越小越好。</li>
</ol>
<h3 id="_11">数据处理能力</h3>
<ol>
<li>ETL：对采集数据的清洗、过滤、转换后，提取出信息和事件，按时间粒度聚合成指标。</li>
<li>数据计算能力：从单机到集群，提升数据并行计算能力和存储容量。</li>
<li>数据适配性：能匹配多种维度的监控场景。</li>
</ol>
<h3 id="_12">事件检测能力（从基本到高级）</h3>
<ol>
<li>识别方法：是否超出阈值 =&gt; 多维度指标聚合 =&gt; 机器学习</li>
<li>事件收敛策略：原始事件，无收敛 =&gt; 按(时间、监控对象、接收人、持续时间)多维度合并收敛 =&gt; 机器学习</li>
<li>事件有效性：能感知 =&gt; 能识别出异常点，但存在漏报和误报 =&gt; 事件准确率和有效性提升的同时，避免重要告警被淹没</li>
<li>告警时延：告警并不是越实时越好，而是（实时性、准确性，重要度）的平衡考量</li>
</ol>
<h3 id="_13">可视化程度</h3>
<ol>
<li>指标和事件能展示</li>
<li>按告警级别、类型等维度，按需展示</li>
<li>按照业务调用链路展示</li>
</ol>
<h3 id="_14">通知渠道</h3>
<ol>
<li>实现邮件、短信等通知方式</li>
<li>按告警级别、类型分层，对应不同的通知方式</li>
<li>如果事件没有及时受理，实现事件上报</li>
</ol>
<h3 id="_15">告警自愈</h3>
<ol>
<li>对告警事件有记录</li>
<li>生成工单，采集更多故障环境信息</li>
<li>有自动处理脚本，自愈后自动关闭工单</li>
</ol>
<h3 id="_16">告警统计</h3>
<ol>
<li>人工统计</li>
<li>按告警事项、级别、周期、频率等维度自动统计，支持导出和自动发送相关人</li>
<li>按调用链路，实现相关信息的连带统计报表</li>
</ol>
<h3 id="_17">告警事件工单</h3>
<ol>
<li>运维被动接收零散的告警事件，没有时效性指标</li>
<li>建立统一的事件接收入口，形成工单记录（生命周期闭环），对事件进行分类、划分等级，统计：事件总量、解决率等指标</li>
<li>能进一步分析各类事件的趋势和原因，实现自愈，有效降低告警事件数量</li>
</ol>
<h3 id="_18">告警事件趋势</h3>
<ol>
<li>随系统规模和复杂度增长，数量呈现指数级上升</li>
<li>数量可控，不随系统规模和复杂度增长，有效控制重复性事件的发生率</li>
<li>事件数量稳中有降，有效预防重大生产事故</li>
</ol>
<h3 id="_19">紧急变更流程</h3>
<ol>
<li>没有规范流程，靠运维人员的经验实施，风险不可控</li>
<li>有正式的紧急变更流程，运维及时拉相关人召开紧急会议、审批变更，提供工具能实施快速，事后复盘</li>
<li>紧急变更流程和运维系统整合在一起，能智能的自动化实施，运维只需要值守</li>
</ol>
<h3 id="_20">服务可用性指标</h3>
<ol>
<li>没有统计和建立可用性指标</li>
<li>建立初步的SLA，但是存在违约</li>
<li>通过云、容器、资源扩缩容等方法，支持业务增长的同时，保障SLA达标</li>
</ol>
<h3 id="_21">用户体验</h3>
<ol>
<li>用户能感受到系统的不稳定，偶尔出现服务不可用。</li>
<li>服务较稳定，故障能在短时间内恢复，但是遇到业务洪峰时，会出现卡顿。</li>
<li>用户对事故基本无感知，系统能支持市场活动引起的流量洪峰。</li>
</ol>
<h3 id="_22">性能管理</h3>
<ol>
<li>没有度量指标，凭借资深运维的经验和直觉</li>
<li>建立基础的指标采集能力，形成性能度量报告</li>
<li>建立端到端的性能指标采集体系，能建立关联分析、趋势预测，提前预防性能事故发生</li>
</ol>
<h3 id="_23">知识管理</h3>
<ol>
<li>技术知识、故障经验等文档零散的存放，缺少持续累积</li>
<li>对典型、重复的故障形成RCA，统一存储地点，形成知识，帮助运维部门高效运转</li>
<li>知识能和部门以外的组织分享，支持自愈系统的搭建</li>
</ol>
<h2 id="_24">采集体系</h2>
<h2 id="_25">告警规则</h2>
<p>告警规则 = 查询条件+触发条件+事件定义</p>
<ul>
<li>查询条件：指定采集指标，和过滤约束条件，如：时间范围、主机范围指定，支持多重条件复合</li>
<li>触发条件：选择计算的范式，与阈值对比</li>
<li>计算的范式：一种计算的表达式|宏定义，可以用模板包装</li>
<li>阈值：预先定义好的，用于对比的值|对象，分静态和动态</li>
<li>事件定义：触发后的事件等级、发送的报文格式等，推送给指定的通知服务</li>
</ul>
<h2 id="_26">通知服务</h2>
<p>事件一览 + 告警事件的通知渠道 + 事件处理和升级流程 + Hook机制</p>
<ul>
<li>事件一览：所有收到的事件，按照条件显示</li>
<li>通知渠道：多种外部通知方式，如：邮件、微信通知接口、电话</li>
<li>事件处理和升级流程：</li>
<li>事件处理：<ul>
<li>信息补全：服务从事件报文中抽取关键key，通过查询CMDB，进一步补全事件完整信息，如：该事件属于哪个APP（BU）、负责人是谁、上下游服务是谁、同类告警的处理提示，可以不断完善</li>
<li>告警收敛：</li>
<li>事件聚合：同类事件合并为1个告警</li>
<li>事件静默：已经发送过的告警，同类新事件在指定一段时期内不再发送告警</li>
<li>告警确认：</li>
<li>用户处理：运维或其他负责人，通过界面或接口，确认处理某个告警，然后关闭该告警</li>
<li>自动关闭：没有持续收到同类事件、或者收到恢复事件，将对应的告警自动关闭</li>
</ul>
</li>
<li>事件升级：同类事件聚合形成告警，告警一直未被处理，一段时间后通知该服务的上级负责人，事件严重等级可能会提升</li>
<li>Hook机制：可选，用于组建自动处理pipeline，如某个APP死机后，通过hook，传入APP的key，自动调用APP重启接口</li>
</ul>
<h3 id="_27">可视化</h3>
<p>[TODO]</p>
<h2 id="_28">元模型</h2>
<h3 id="_29">采集指标库</h3>
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>范式</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>唯一</td>
<td>指标唯一名</td>
</tr>
<tr>
<td>cname</td>
<td>String</td>
<td></td>
<td>中文名</td>
</tr>
<tr>
<td>meaning</td>
<td>String</td>
<td>必填</td>
<td>指标含义</td>
</tr>
<tr>
<td>calc_formula</td>
<td>String</td>
<td></td>
<td>采集计算公式</td>
</tr>
<tr>
<td>rel_unit</td>
<td>字典</td>
<td></td>
<td>数据单位，从字典：单位 中选择</td>
</tr>
<tr>
<td>rel_level</td>
<td>字典</td>
<td>必填</td>
<td>所属层级，从字典：层级 中选择</td>
</tr>
<tr>
<td>rel_type</td>
<td>字典</td>
<td>必填</td>
<td>采集类型，从 Metric、Log、APM 中选择</td>
</tr>
<tr>
<td>namespace</td>
<td>String</td>
<td>默认default</td>
<td>命名空间</td>
</tr>
</tbody>
</table>
<p>对不同的采集类型，实现的方式是</p>
<h3 id="_30">告警规则库</h3>
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>范式</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>唯一</td>
<td>指标唯一名</td>
</tr>
</tbody>
</table></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//cdnjs.loli.net/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../.."</script>
    
    <script src="../../js/base.js"></script>
    <script src="../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
